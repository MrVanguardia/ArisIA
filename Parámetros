# Solución 1: Instalación con parámetros específicos
# Para CPU (más ligero):
pip install torch==2.0.0 torchvision torchaudio --index-url https://download.pytorch.org/whl/cpu
pip install transformers

# Para NVIDIA GPU (CUDA 11.7):
pip install torch==2.0.0+cu117 torchvision==0.15.1+cu117 torchaudio==2.0.1 --index-url https://download.pytorch.org/whl/cu117
pip install transformers

# Solución 2: Instalación en entorno limpio

# 1. Crear y activar entorno virtual
python -m venv myenv
source myenv/bin/activate  # Linux/Mac
# myenv\Scripts\activate   # Windows

# 2. Instalar con pip de sistema
python -m pip install --upgrade pip setuptools wheel

# 3. Instalar dependencias
pip install torch transformers --no-cache-dir

# Solución 3: Instalación desde binarios precompilados

# Para Linux:
pip install --pre torch transformers --extra-index-url https://download.pytorch.org/whl/nightly/cpu

# Para Windows (PowerShell):
pip install torch transformers -f https://download.pytorch.org/whl/torch_stable.html

#Si persiste el error, verifica:
Versión de Python (requiere ≥3.8):
python --version

# Dependencias del sistema (Linux):
# Ubuntu/Debian:
sudo apt-get install python3-dev libopenblas-dev

# Fedora:
sudo dnf install openblas-devel

# Limpiar instalación previa:
pip uninstall torch torchvision torchaudio transformers
pip cache purge

Solución definitiva (conda):
# Si pip sigue fallando, usa conda:
conda install pytorch torchvision torchaudio cpuonly -c pytorch
conda install transformers -c conda-forge

# Verificación:
python
import torch
print(torch.__version__)  # Debe mostrar 2.0.0+
print(torch.cuda.is_available())  # False para CPU, True para GPU

from transformers import __version__
print(__version__)  # Debe mostrar 4.30.0+
